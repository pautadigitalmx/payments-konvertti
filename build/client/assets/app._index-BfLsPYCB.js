import{w as p,u as a,b as x,r as c,j as e,F as l}from"./chunk-JMJ3UQ3L-BzQfVR3p.js";const h=p(function(){var r;const t=a(),s=x(),[o,d]=c.useState(!1),n=(s==null?void 0:s.commission)??t.commission;return e.jsxs("s-page",{heading:"Payments overview",children:[e.jsx("s-section",{heading:"Commission settings",spacing:"loose",children:e.jsxs("div",{style:{display:"grid",gap:"12px"},children:[n?e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"center",justifyContent:"space-between",border:"1px solid var(--s-border, #d9e1ec)",borderRadius:"12px",padding:"12px 16px"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{margin:0,fontWeight:600},children:"Commission"}),e.jsxs("p",{style:{margin:0,color:"#637381"},children:[n,"%"]})]}),e.jsx("s-button",{variant:"tertiary",onClick:()=>d(!0),children:"Change"})]}):null,o||!n?e.jsxs(l,{method:"post",style:{display:"grid",gap:"12px"},children:[e.jsxs("label",{style:{display:"grid",gap:"6px"},children:[e.jsx("span",{style:{fontWeight:600},children:"Set commission (%)"}),e.jsx("input",{name:"commission",type:"number",step:"0.01",min:"0",defaultValue:n??t.defaultCommission,style:{padding:"12px",borderRadius:"10px",border:"1px solid #d9e1ec"},required:!0}),(r=s==null?void 0:s.errors)!=null&&r.commission?e.jsx("span",{style:{color:"#b42318",fontSize:"14px"},children:s.errors.commission}):e.jsx("span",{style:{color:"#637381",fontSize:"14px"},children:"Set the percentage deducted per transaction."})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("s-button",{type:"submit",children:"Save commission"}),n?e.jsx("s-button",{type:"button",variant:"tertiary",onClick:()=>d(!1),children:"Cancel"}):null]})]}):null]})}),e.jsx("s-section",{heading:"Performance",spacing:"loose",children:e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{style:{display:"grid",gap:"8px",padding:"16px",border:"1px solid var(--s-border, #d9e1ec)",borderRadius:"12px"},children:[e.jsx("p",{style:{margin:0,fontWeight:600},children:"Overview"}),e.jsx("p",{style:{margin:0,color:"#637381"},children:"Track settlement status, payouts, and commissions at a glance."}),e.jsx("div",{style:{display:"grid",gap:"8px",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))"},children:[{label:"Gross volume (7d)",value:"$48,230"},{label:"Pending payouts",value:"$12,400"},{label:"Commission",value:n?`${n}%`:"Not set"},{label:"Disputes open",value:"3"}].map(i=>e.jsxs("div",{style:{padding:"12px",borderRadius:"10px",background:"#f4f6f8",display:"grid",gap:"4px"},children:[e.jsx("span",{style:{color:"#637381",fontSize:"14px"},children:i.label}),e.jsx("span",{style:{fontWeight:700},children:i.value})]},i.label))})]}),e.jsxs("div",{style:{display:"grid",gap:"8px",padding:"16px",border:"1px solid var(--s-border, #d9e1ec)",borderRadius:"12px"},children:[e.jsx("p",{style:{margin:0,fontWeight:600},children:"Navigation"}),e.jsx("nav",{style:{display:"grid",gap:"8px",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))"},children:["Payouts","Orders","Disputes","Reports","Integrations"].map(i=>e.jsx("a",{style:{padding:"12px",border:"1px solid #d9e1ec",borderRadius:"10px",color:"#111827",textDecoration:"none",background:"#fff"},href:`/app#${i.toLowerCase()}`,children:i},i))})]}),e.jsxs("div",{style:{display:"grid",gap:"12px",padding:"16px",border:"1px solid var(--s-border, #d9e1ec)",borderRadius:"12px"},children:[e.jsx("p",{style:{margin:0,fontWeight:600},children:"Recent payouts"}),e.jsx("div",{style:{display:"grid",gap:"8px"},children:[{id:"P-1042",amount:"$3,120.44",status:"Scheduled"},{id:"P-1041",amount:"$2,980.11",status:"Sent"},{id:"P-1040",amount:"$3,440.98",status:"Processing"}].map(i=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",borderRadius:"10px",background:"#f8fafc"},children:[e.jsxs("div",{style:{display:"grid",gap:"2px"},children:[e.jsx("span",{style:{fontWeight:600},children:i.id}),e.jsx("span",{style:{color:"#637381",fontSize:"14px"},children:i.status})]}),e.jsx("span",{style:{fontWeight:700},children:i.amount})]},i.id))})]}),e.jsxs("div",{style:{display:"grid",gap:"12px",padding:"16px",border:"1px solid var(--s-border, #d9e1ec)",borderRadius:"12px"},children:[e.jsx("p",{style:{margin:0,fontWeight:600},children:"Database connection"}),e.jsx("p",{style:{margin:0,color:"#637381"},children:"Update the connection string or validate connectivity and get the IP to whitelist if needed."}),e.jsxs(l,{method:"post",style:{display:"grid",gap:"10px"},children:[e.jsxs("label",{style:{display:"grid",gap:"4px"},children:[e.jsx("span",{style:{fontWeight:600},children:"Connection string"}),e.jsx("input",{name:"connectionString",type:"text",placeholder:"postgres://user:pass@host:5432/db?sslmode=require",style:{padding:"10px",borderRadius:"10px",border:"1px solid #d9e1ec"},defaultValue:t.connectionString||"",required:!0})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx("s-button",{type:"submit",name:"_action",value:"saveConnection",children:"Save connection"}),e.jsx("s-button",{type:"submit",name:"_action",value:"testConnection",variant:"tertiary",children:"Run connection test"})]})]}),((s==null?void 0:s.testResult)||t.testResult)&&e.jsxs("div",{style:{padding:"10px 12px",borderRadius:"10px",background:((s==null?void 0:s.testResult)||t.testResult).ok?"#ecfdf3":"#fef2f2",border:"1px solid #d1fae5"},children:[e.jsx("p",{style:{margin:0,fontWeight:600},children:((s==null?void 0:s.testResult)||t.testResult).ok?"Connection successful":"Connection failed"}),e.jsx("p",{style:{margin:"4px 0 0 0",color:"#111827"},children:((s==null?void 0:s.testResult)||t.testResult).message}),((s==null?void 0:s.testResult)||t.testResult).ip?e.jsxs("p",{style:{margin:"4px 0 0 0",color:"#374151"},children:["IP to whitelist: ",((s==null?void 0:s.testResult)||t.testResult).ip]}):null]})]})]})})]})});export{h as default};
